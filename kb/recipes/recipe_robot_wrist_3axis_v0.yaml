id: recipe_robot_wrist_3axis_v0
kind: recipe
target_item_id: robot_wrist_3axis
variant_id: v0
inputs:
  - item_id: aluminum_alloy_ingot
    qty: 6.0
    unit: kg
  - item_id: cast_metal_parts
    qty: 5.5
    unit: kg
    notes: "Intermediate for machining step"
  - item_id: machined_part_raw
    qty: 5.2
    unit: kg
    notes: "Intermediate for assembly step"
  - item_id: steel_stock
    qty: 2.0
    unit: kg
  - item_id: machined_steel_part_precision
    qty: 1.8
    unit: kg
    notes: "Intermediate for assembly step"
  - item_id: bearing_set_small
    qty: 0.3
    unit: kg
  - item_id: fastener_kit_medium
    qty: 1
    unit: kg
outputs:
  - item_id: robot_wrist_3axis
    qty: 1
    unit: unit
byproducts:
  - item_id: metal_scrap
    qty: 1.0
    unit: kg
steps:
  - process_id: casting_basic_v0
    inputs:
      - item_id: aluminum_alloy_ingot
        qty: 6.0
        unit: kg
    outputs:
      - item_id: cast_metal_parts
        qty: 5.5
        unit: kg
    est_time_hr: 2.0
    machine_hours: 2.0
    notes: "Cast aluminum housing components for 3-axis wrist module"
  - process_id: machining_rough_v0
    inputs:
      - item_id: cast_metal_parts
        qty: 5.5
        unit: kg
    outputs:
      - item_id: machined_part_raw
        qty: 5.2
        unit: kg
    est_time_hr: 3.0
    machine_hours: 3.0
    notes: "CNC machine bearing bores, shaft seats, mounting surfaces"
  - process_id: steel_refining_basic_v0
    inputs:
      - item_id: steel_stock
        qty: 2.0
        unit: kg
    outputs:
      - item_id: steel_billet_or_slab
        qty: 1.9
        unit: kg
      - item_id: slag
        qty: 0.1
        unit: kg
    est_time_hr: 1.5
    machine_hours: 1.5
    notes: "Refine steel for wrist shafts from lunar iron"
  - process_id: machining_rough_v0
    inputs:
      - item_id: steel_billet_or_slab
        qty: 1.9
        unit: kg
    outputs:
      - item_id: machined_steel_part_precision
        qty: 1.8
        unit: kg
    est_time_hr: 2.0
    machine_hours: 2.0
    notes: "Machine steel shafts with precision diameters"
  - process_id: assembly_basic_v0
    inputs:
      - item_id: machined_part_raw
        qty: 5.2
        unit: kg
      - item_id: machined_steel_part_precision
        qty: 1.8
        unit: kg
      - item_id: bearing_set_small
        qty: 0.3
        unit: kg
      - item_id: fastener_kit_medium
        qty: 1
        unit: kg
    outputs:
      - item_id: robot_wrist_3axis
        qty: 1
        unit: unit
    est_time_hr: 2.0
    labor_hours: 2.0
    notes: "Assemble wrist housing, install bearings and shafts"
notes: |
  Manufactures 3-axis robot wrist module from lunar materials.

  Design: Compact roll-pitch-roll (J4-J5-J6) configuration, 200mm length.
  Housing: Aluminum castings, Shafts: Steel, Bearings: Initially imported.

  Process:
  1. Cast aluminum housing components (3 nested housings)
  2. CNC machine bearing bores and mounting surfaces (±0.05mm precision)
  3. Fabricate steel shafts from lunar iron
  4. Assemble with precision bearings (imported in Phase 1)
  5. Align and test joint motion

  Inputs:
  - 6 kg aluminum (5 kg final + scrap)
  - 2 kg steel for shafts
  - 6 bearings (3 joints × 2 bearings each, imported initially)

  Phase 2: Manufacture bearings from lunar materials.

  Design reference: docs/labor_bot_design_memo.md section 3.1.4.

  Mass balance: assembly outputs robot_wrist_3axis directly; alignment step reuses same item.
