id: recipe_power_electronics_module_v1
kind: recipe
name: Recipe for power electronics module v1
target_item_id: power_electronics_module
variant_id: v1

inputs:
  - item_id: control_circuit_board_power
    qty: 2.0
    unit: kg
    notes: Power control PCB with microcontroller and gate drivers
  - item_id: electronic_components_set
    qty: 10.0
    unit: kg
    notes: Power semiconductors (MOSFETs, diodes), inductors, transformers, large capacitors
  - item_id: pcb_populated
    qty: 2.0
    unit: kg
    notes: Populated power control PCB from pcb_assembly_basic_v0
  - item_id: heat_sink_assembly_large
    qty: 4.0
    unit: kg
    notes: Heat dissipation components for power electronics
  - item_id: aluminum_housing_machined
    qty: 2.5
    unit: kg
    notes: Electronics enclosure
  - item_id: cooling_fan_assembly
    qty: 0.5
    unit: kg
    notes: Cooling fan
  - item_id: assembled_wire_harness
    qty: 0.8
    unit: kg
    notes: Power wiring and connections
  - item_id: thermal_interface_material
    qty: 0.1
    unit: kg
    notes: Thermal interface material for heat sink mounting
  - item_id: fastener_kit_small
    qty: 0.1
    unit: kg
    notes: Assembly hardware
  - item_id: assembled_electrical_system
    qty: 1.0
    unit: unit
    notes: Assembled enclosure ready for testing

outputs:
  - item_id: power_electronics_module
    qty: 20.0
    unit: kg

steps:
  - process_id: pcb_assembly_basic_v0
    inputs:
      - item_id: control_circuit_board_power
        qty: 2.0
        unit: kg
      - item_id: electronic_components_set
        qty: 2.0
        unit: kg
    outputs:
      - item_id: pcb_populated
        qty: 2.0
        unit: kg
    est_time_hr: 3.0
    machine_hours: 3.0
    notes: "Assemble power PCB with microcontroller, gate drivers, sensing circuits"
  - process_id: power_component_assembly_v0
    est_time_hr: 2.0
    labor_hours: 2.0
    notes: "Install power MOSFETs, inductors, capacitors, transformers"
  - process_id: heat_sink_installation_v0
    inputs:
      - item_id: electronic_component_or_module
        qty: 1.0
        unit: unit
      - item_id: heat_sink_assembly_large
        qty: 4.0
        unit: kg
      - item_id: thermal_interface_material
        qty: 0.1
        unit: kg
    outputs:
      - item_id: component_with_heat_sink
        qty: 1.0
        unit: unit
    est_time_hr: 1.0
    labor_hours: 1.0
    notes: "Mount heat sinks to power semiconductors with thermal interface"
  - process_id: assembly_basic_v0
    inputs:
      - item_id: pcb_populated
        qty: 2.0
        unit: kg
      - item_id: component_with_heat_sink
        qty: 1.0
        unit: unit
      - item_id: aluminum_housing_machined
        qty: 2.5
        unit: kg
      - item_id: cooling_fan_assembly
        qty: 0.5
        unit: kg
      - item_id: assembled_wire_harness
        qty: 0.8
        unit: kg
      - item_id: fastener_kit_small
        qty: 0.1
        unit: kg
    outputs:
      - item_id: assembled_electrical_system
        qty: 1.0
        unit: unit
    est_time_hr: 1.5
    labor_hours: 1.5
    notes: "Mount in enclosure, wire connections, install cooling fan"
  - process_id: electrical_testing_v0
    inputs:
      - item_id: assembled_electrical_system
        qty: 1.0
        unit: unit
    outputs:
      - item_id: power_electronics_module
        qty: 1.0
        unit: unit
    est_time_hr: 2.0
    labor_hours: 2.0
    notes: "Test charge control, voltage regulation, load response"
notes: "Variant of power electronics module; same steps as v0 chain but outputs base power_electronics_module. Placeholder recipe to enable local manufacturing modeling."
