id: recipe_traction_control_system_v0
kind: recipe
name: Recipe for traction_control_system_v0
target_item_id: traction_control_system_v0
variant_id: v0
inputs:
  - item_id: copper_clad_laminate
    qty: 0.2
    unit: kg
  - item_id: control_board_bare
    qty: 0.15
    unit: kg
  - item_id: microcontroller_ic_generic
    qty: 1.0
    unit: each
  - item_id: motor_driver_ic_high_current
    qty: 4.0
    unit: each
  - item_id: current_sensor_set
    qty: 1.0
    unit: each
  - item_id: capacitor_ceramic_generic
    qty: 20.0
    unit: each
  - item_id: resistor_chip_smd
    qty: 30.0
    unit: each
  - item_id: encoder_optical_simple_v0
    qty: 4.0
    unit: each
  - item_id: power_cable_assembly
    qty: 2.0
    unit: kg
  - item_id: enclosure_steel_small
    qty: 2.25
    unit: kg
outputs:
  - item_id: traction_control_system_v0
    qty: 5.0
    unit: kg
steps:
  - process_id: pcb_fabrication_process_v0
    inputs:
      - item_id: copper_clad_laminate
        qty: 0.2
        unit: kg
    outputs:
      - item_id: control_board_bare
        qty: 0.15
        unit: kg
    est_time_hr: 2.0
    notes: Fabricate control circuit PCB
  - process_id: component_placement_process_v0
    inputs:
      - item_id: control_board_bare
        qty: 0.15
        unit: kg
      - item_id: microcontroller_ic_generic
        qty: 1.0
        unit: each
      - item_id: motor_driver_ic_high_current
        qty: 4.0
        unit: each
      - item_id: current_sensor_set
        qty: 1.0
        unit: each
      - item_id: capacitor_ceramic_generic
        qty: 20.0
        unit: each
      - item_id: resistor_chip_smd
        qty: 30.0
        unit: each
    outputs:
      - item_id: pcb_components_placed
        qty: 0.15
        unit: kg
    est_time_hr: 2.0
    notes: Place components on PCB
  - process_id: reflow_soldering_process_v0
    inputs:
      - item_id: pcb_components_placed
        qty: 0.15
        unit: kg
    outputs:
      - item_id: pcb_assembled_board
        qty: 0.15
        unit: kg
    est_time_hr: 0.5
    notes: Solder components (keep as control_board_populated)
  - process_id: assembly_process_general_v0
    inputs:
      - item_id: pcb_assembled_board
        qty: 0.15
        unit: kg
      - item_id: encoder_optical_simple_v0
        qty: 4.0
        unit: each
      - item_id: power_cable_assembly
        qty: 2.0
        unit: kg
        notes: "Power distribution harness for motors and control electronics"
      - item_id: enclosure_steel_small
        qty: 2.25
        unit: kg
        notes: "Sealed electronics enclosure for vacuum environment (using steel small enclosure)"
    outputs:
      - item_id: traction_control_system_v0
        qty: 5.0
        unit: kg
    est_time_hr: 4.0
    notes: Assemble board, program microcontroller (firmware flashing), install sensors, wiring, enclosure, test. Programming is part of assembly process, not a separate material input.
assumptions: |
  Microcontroller-based traction control.
  Individual motor control for each wheel.
  Wheel speed encoders provide slip detection.
  Current sensors detect motor loading.
  Software implements slip detection and torque modulation algorithm.
notes: |
  Manufacturing route for rover traction control system.
  Critical for lunar regolith mobility.
  Electronic system compatible with vacuum environment.
  Enclosure and PCB mass adjusted to balance 5.0 kg final module.
